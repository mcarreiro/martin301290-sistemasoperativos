Para implementar una librería Read_Write Lock libre de inanición, utilizamos semáforos POSIX mediante la librería de C semaphore.h. La librería creada por nosotros consta de los mismo metódos que la clase RWLock birndada por la cátedra. Disponemos de 4 atributos privados: readersQuantity (contador de lectores, inicializado en 0), mutexReaders (para implementar la sección crítica a la hora de tocar el atributo readersQuantity), writers (Semáforo para saber si hay un escritor esperando, inicializado en 1) y freeResource (para saber si el recurso esta disponible, inicializado en 1).

A continuación el pseudocodigo de la nueva libreria RWSemaphoreLock:

WLOCK
//espero que no haya ningún escritor
hayEscritores.wait()
//espero que se libere el recurso y lo tomo
recurso.wait()

WUNLOCK


RLOCK



RUNLOCK
//espero el mutex para asegurarme el uso exclusivo sobre lectores
mutexLectores.wai().
//disminuyo la cantidad de lectores
lectores--
//si soy el ultimo lector que quedaba libero el recurso así puede tomarlo un escritor (en el caso que hubiese uno esperando)
if(lectores == 0)
	recurso.signal()
//libero el mutex
mutexLectores.signal()
